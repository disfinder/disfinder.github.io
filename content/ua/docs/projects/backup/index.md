---
title: "Мої бекапи"
weight: 0050
# bookFlatSection: false
# bookToc: true
# bookHidden: false
# bookCollapseSection: false
# bookComments: false
# bookSearchExclude: false
date: 2023-12-28T17:20:27-05:00
---

{{< hint warning >}}
# УВАГА
ця стаття - ще у процесі написання.
{{< /hint >}}

# Бекапи

## Джерела - що взагалі хочемо бекапити

- особисті важливі документи `~/documents`
- папочку розробника `~/develop`
- фоточки із телефону (телефонів)
- всю колекцію фото: із телефонів, камер, тощо
- ключі/паролі
- систему персонального лептопа (навіщо? бо є механізм)
- телеграмові чатики
- google drive
- dropbox
- youtube - акаунти баняться, відео видаляються, а контент буває цікавим та корисним
- налаштування сервера
- налаштування роутера

Отак стало видно, що джерела для бекапу поділяютья на дві категорії - внутрішні (документи, паролі) та зовнішні (ютуб, гугл драйв)

## Що бекапити не будемо

Ніяке мультимедіа (окрім власних фото/відео) бекапити не варто.  
Свої власні фотки і відосики - безцінні, а от музика чи кіна - ну їх такось\сякось надибати можна буде, а якщо не можна - то обійтися.  
Одне виключення - для ютубу, тут йдеться мова про створення оффлайн копії на всяк випадок, і саму цю копію бекапити буде занадто дорого, через її великий розмір.

## Як щодо структурувати дані в табличку

| Source                     | Name          |
| -------------------------- | ------------- |
| особисті важливі документи | `~/documents` |
| папочку розробника         | `~/develop`   |
| фоточки із телефонів       | `DCIM`        |
| всю колекцію фото          | `photo`       |
| ключі/паролі               | `passwords`   |
| диск персонального лептопа | `laptop`      |
| телеграмові чатики         | `telegram`    |
| google drive               | `gdrive`      |
| dropbox                    | `dropbox`     |
| youtube                    | `youtube`     |

## Що як бекапиться зараз

### documents

важливі документи лежать локально на лептопі, і за допомогою Synology Drive Client - синхронізуються на домашній NAS Synology.

### telegram chats

чатики і групи телеграм виявляються жерелом інформації, і важливі - потребують бекапів. ніколи не знаєш, коли телеграм загнеться чи запросить грошей за історію старіше одного тижня (як просить безкоштовний Слак, наприклад)
Для експорту довелося поставити страшненький маківський клієнт (у красивому нема експорту) і експортувати поки вручну.

### фоточки із телефонів

На телефонах стоять мобільні застосунки "Synology Moments/Photos", які здатні по локальній мережі або [vpn](posts/2024/09/28/tailscale/) складають фото/відео із камери на Synology.

### Google Photos

За допомогою `Google Takeout` :

- періодично робляться архіви по 50Гб кожен файл
- вручну викачуються на ноут
- вручну сінкаються на Synology (задіяти syncthing?)
- вручну розпаковуються у єдину rolling update папку призначення
- ~~комітяться в гіт (?)~~

### Google Drive

Аналогічно до Google Photos. Розмір Takeout файлу 1.5Гб.

### youtube

За допомогою форка `youtube-dl` витягує плейліст "History" - а він і є тою самою історією переглядів і скачує відоси із цього плейліста локально.  (4.7T займає)  
~~Запускається по крону на сервері.~~  
Гугл щось там поміняв і тепер кукі, які раніше дозволяли скачувати плейлист історії - він бо ж приватний - тухнуть щоразу після першого використання і запускати автоматично не виходить. Треба щоразу витягти новий файл із куками, підкласти їх скрипту і запустити. Поремонтувати поки не вийшло. В принципі працює, але ще один ручний запуск на додачу до багатьох.

```shell
...save cookies
make yt-cookies-get yt-cookies-update
ssh boxtree && ...


[youtube:tab] history page 156: Downloading API JSON
[youtube:tab] history page 157: Downloading API JSON
[youtube:tab] history page 158: Downloading API JSON
[youtube:tab] Playlist history: Downloading 27231 items of 27231

```

### 23andme

В світлі новин про те, що 23andme можуть закритися через брак коштів, вирішив скачати дані із їх системи. Радять ще попросити видалити, поки подумаю.  
Процес схожий на тейкаут - відправляєш запит на архівацію, воно щось там мурижить і присилає ємейл, коли можна скачати.
